<view class="profile-container">
  <!-- 顶部个人信息 -->
  <view class="profile-header">
    <view class="logout-section">
      <view class="logout-btn" bindtap="logout">退出</view>
    </view>
    <view class="avatar-section">
      <view class="avatar" bindtap="chooseAvatar">
        <image wx:if="{{userInfo.avatar}}" src="{{userInfo.avatar}}" mode="aspectFill"></image>
        <text wx:else class="avatar-placeholder">头像</text>
      </view>
      <text class="teacher-name">{{userInfo.name || '未设置姓名'}}</text>
      <text wx:if="{{userInfo.role === 'teacher'}}" class="teacher-id">{{userInfo.teacherNo || '未设置工号'}}</text>
      <text wx:else class="student-id">{{userInfo.studentNo || '未设置学号'}}</text>
    </view>
  </view>
  
  <!-- 个人信息列表 -->
  <view class="info-list">
    <view class="info-item">
      <text class="info-label">姓名</text>
      <text class="info-value">{{userInfo.name || '未设置'}}</text>
    </view>
    
    <view class="info-item">
      <text class="info-label">{{userInfo.role === 'teacher' ? '工号' : '学号'}}</text>
      <text class="info-value">{{userInfo.role === 'teacher' ? (userInfo.teacherNo || '未设置') : (userInfo.studentNo || '未设置')}}</text>
    </view>
    
    <view class="info-item">
      <text class="info-label">电话</text>
      <text class="info-value">{{userInfo.phone || '未设置'}}</text>
    </view>
    
    <view class="info-item">
      <text class="info-label">{{userInfo.role === 'teacher' ? '学院' : '学院'}}</text>
      <text class="info-value">{{userInfo.college || '未设置'}}</text>
    </view>
    
    <!-- 学生端显示班级信息 -->
    <view wx:if="{{userInfo.role === 'student'}}" class="info-item">
      <text class="info-label">班级</text>
      <text class="info-value">{{userInfo.className || '未设置'}}</text>
    </view>
    
    <view wx:if="{{userInfo.role === 'teacher'}}" class="info-item">
      <text class="info-label">角色</text>
      <text class="info-value">教师</text>
    </view>
    
    <view wx:else class="info-item">
      <text class="info-label">角色</text>
      <text class="info-value">学生</text>
    </view>
  </view>

  <!-- 功能菜单区域 -->
  <view class="menu-section">
    <!-- 教师端功能菜单 -->
    <view wx:if="{{userInfo.role === 'teacher'}}" class="teacher-menu">
    </view>

    <!-- 学生端功能菜单 -->
    <view wx:else class="student-menu">
    </view>

    <!-- 通用功能菜单 -->
    <view class="common-menu">
      <view class="menu-item" bindtap="changePassword">
        <view class="menu-icon">
          <view class="menu-icon-placeholder">密</view>
        </view>
        <view class="menu-text">修改密码</view>
        <view class="menu-arrow">></view>
      </view>
    </view>
  </view>
</view>